{"version":3,"file":"react-pdf.cjs.js","sources":["../src/propsEqual.js","../src/renderer.js","../src/index.js","../src/node.js"],"sourcesContent":["/* eslint-disable no-continue */\n\n/**\n * Checks if two sets of props are equal (recursively)\n *\n * @param {Object} props A\n * @param {Object} props B\n * @returns {Boolean} props equals?\n *\n */\nconst propsEqual = (a, b) => {\n  const oldPropsKeys = Object.keys(a);\n  const newPropsKeys = Object.keys(b);\n\n  if (oldPropsKeys.length !== newPropsKeys.length) {\n    return false;\n  }\n\n  for (let i = 0; i < oldPropsKeys.length; i += 1) {\n    const propName = oldPropsKeys[i];\n\n    if (propName === 'render' && !a[propName] !== !b[propName]) {\n      return false;\n    }\n\n    if (propName !== 'children' && a[propName] !== b[propName]) {\n      if (\n        typeof a[propName] === 'object' &&\n        typeof b[propName] === 'object' &&\n        propsEqual(a[propName], b[propName])\n      ) {\n        continue;\n      }\n\n      return false;\n    }\n\n    if (\n      propName === 'children' &&\n      (typeof a[propName] === 'string' || typeof b[propName] === 'string')\n    ) {\n      return a[propName] === b[propName];\n    }\n  }\n\n  return true;\n};\n\nexport default propsEqual;\n","/* eslint-disable no-unused-vars */\n/* eslint-disable no-param-reassign */\n\nimport ReactFiberReconciler from 'react-reconciler';\nimport {\n  unstable_scheduleCallback as schedulePassiveEffects,\n  unstable_cancelCallback as cancelPassiveEffects,\n} from 'scheduler';\n\nimport propsEqual from './propsEqual';\n\nconst emptyObject = {};\n\nconst createRenderer = ({ onChange = () => {} }) => {\n  return ReactFiberReconciler({\n    schedulePassiveEffects,\n\n    cancelPassiveEffects,\n\n    supportsMutation: true,\n\n    isPrimaryRenderer: false,\n\n    warnsIfNotActing: false,\n\n    appendInitialChild(parentInstance, child) {\n      parentInstance.children.push(child);\n    },\n\n    createInstance(type, { style, children, ...props }) {\n      return {\n        type,\n        box: {},\n        style: style || {},\n        props: props || {},\n        children: [],\n      };\n    },\n\n    createTextInstance(text, rootContainerInstance) {\n      return { type: 'TEXT_INSTANCE', value: text };\n    },\n\n    finalizeInitialChildren(element, type, props) {\n      return false;\n    },\n\n    getPublicInstance(instance) {\n      return instance;\n    },\n\n    prepareForCommit() {\n      // Noop\n    },\n\n    prepareUpdate(element, type, oldProps, newProps) {\n      return !propsEqual(oldProps, newProps);\n    },\n\n    resetAfterCommit: onChange,\n\n    resetTextContent(element) {\n      // Noop\n    },\n\n    getRootHostContext() {\n      return emptyObject;\n    },\n\n    getChildHostContext() {\n      return emptyObject;\n    },\n\n    shouldSetTextContent(type, props) {\n      return false;\n    },\n\n    now: Date.now,\n\n    useSyncScheduling: true,\n\n    appendChild(parentInstance, child) {\n      parentInstance.children.push(child);\n    },\n\n    appendChildToContainer(parentInstance, child) {\n      if (parentInstance.type === 'ROOT') {\n        parentInstance.document = child;\n      } else {\n        parentInstance.children.push(child);\n      }\n    },\n\n    insertBefore(parentInstance, child, beforeChild) {\n      const index = parentInstance.children.indexOf(beforeChild);\n      if (index !== -1 && child)\n        parentInstance.children.splice(index, 0, child);\n    },\n\n    removeChild(parentInstance, child) {\n      const index = parentInstance.children.indexOf(child);\n      if (index !== -1) parentInstance.children.splice(index, 1);\n    },\n\n    removeChildFromContainer(parentInstance, child) {\n      const index = parentInstance.children.indexOf(child);\n      if (index !== -1) parentInstance.children.splice(index, 1);\n    },\n\n    commitTextUpdate(textInstance, oldText, newText) {\n      textInstance.value = newText;\n    },\n\n    commitUpdate(instance, updatePayload, type, oldProps, newProps) {\n      const { style, ...props } = newProps;\n      instance.props = props;\n      instance.style = style;\n    },\n  });\n};\n\nexport default createRenderer;\n","import BlobStream from 'blob-stream';\nimport FontStore from '@react-pdf/font';\nimport renderPDF from '@react-pdf/render';\nimport PDFDocument from '@react-pdf/pdfkit';\nimport layoutDocument from '@react-pdf/layout';\n\nimport createRenderer from './renderer';\nimport { version } from '../package.json';\n\nconst fontStore = new FontStore();\n\nconst pdf = ({ initialValue, onChange }) => {\n  const container = { type: 'ROOT', document: null, lang: 'en-US' };\n  const PDFRenderer = createRenderer({ onChange });\n  const mountNode = PDFRenderer.createContainer(container);\n\n  const updateContainer = doc => {\n    PDFRenderer.updateContainer(doc, mountNode, null);\n  };\n\n  if (initialValue) updateContainer(initialValue);\n\n  const getLang = () => {\n    const { document } = container\n    return document.props ? document.props.lang : null\n  }\n\n  const render = async () => {\n    const ctx = new PDFDocument({ autoFirstPage: false, lang: getLang() });\n    const layout = await layoutDocument(container.document, fontStore);\n\n    return renderPDF(ctx, layout);\n  };\n\n  const callOnRender = (params = {}) => {\n    if (container.document.props.onRender) {\n      container.document.props.onRender(params);\n    }\n  };\n\n  const toBlob = async () => {\n    const instance = await render();\n    const stream = instance.pipe(BlobStream());\n\n    return new Promise((resolve, reject) => {\n      stream.on('finish', () => {\n        try {\n          const blob = stream.toBlob('application/pdf');\n          callOnRender({ blob });\n          resolve(blob);\n        } catch (error) {\n          reject(error);\n        }\n      });\n\n      stream.on('error', reject);\n    });\n  };\n\n  const toBuffer = async () => {\n    callOnRender();\n    return render();\n  };\n\n  const toString = async () => {\n    let result = '';\n    const instance = await render();\n\n    return new Promise((resolve, reject) => {\n      try {\n        instance.on('data', buffer => {\n          result += buffer;\n        });\n\n        instance.on('end', () => {\n          resolve(result);\n        });\n      } catch (error) {\n        reject(error);\n      }\n    });\n  };\n\n  return {\n    container,\n    toBlob,\n    toBuffer,\n    toString,\n    updateContainer,\n  };\n};\n\nconst Font = fontStore;\n\nconst StyleSheet = {\n  create: s => s,\n};\n\nexport { version, Font, StyleSheet, pdf };\n","import fs from 'fs';\nimport * as primitives from '@react-pdf/primitives';\nimport { pdf, version, Font, StyleSheet } from './index';\n\nexport const renderToStream = async element => {\n  const instance = pdf({ initialValue: element });\n  const buffer = await instance.toBuffer();\n  return buffer;\n};\n\nexport const renderToString = element => {\n  const instance = pdf({ initialValue: element });\n  return instance.toString();\n};\n\nexport const renderToFile = async (element, filePath, callback) => {\n  const output = await renderToStream(element);\n  const stream = fs.createWriteStream(filePath);\n\n  output.pipe(stream);\n\n  return new Promise((resolve, reject) => {\n    stream.on('finish', () => {\n      if (callback) callback(output, filePath);\n      resolve(output);\n    });\n    stream.on('error', reject);\n  });\n};\n\nconst throwEnvironmentError = name => {\n  throw new Error(\n    `${name} is a web specific API. You're either using this component on Node, or your bundler is not loading react-pdf from the appropriate web build.`,\n  );\n};\n\nexport const PDFViewer = () => {\n  throwEnvironmentError('PDFViewer');\n};\n\nexport const PDFDownloadLink = () => {\n  throwEnvironmentError('PDFDownloadLink');\n};\n\nexport const BlobProvider = () => {\n  throwEnvironmentError('BlobProvider');\n};\n\nexport const render = renderToFile;\n\nexport * from './index';\n\nexport * from '@react-pdf/primitives';\n\nexport default {\n  pdf,\n  Font,\n  version,\n  StyleSheet,\n  PDFViewer,\n  BlobProvider,\n  PDFDownloadLink,\n  renderToStream,\n  renderToString,\n  renderToFile,\n  render,\n  ...primitives,\n};\n"],"names":["propsEqual","a","b","oldPropsKeys","Object","keys","newPropsKeys","length","i","propName","emptyObject","createRenderer","onChange","ReactFiberReconciler","schedulePassiveEffects","cancelPassiveEffects","supportsMutation","isPrimaryRenderer","warnsIfNotActing","appendInitialChild","parentInstance","child","children","push","createInstance","type","style","props","box","createTextInstance","text","rootContainerInstance","value","finalizeInitialChildren","element","getPublicInstance","instance","prepareForCommit","prepareUpdate","oldProps","newProps","resetAfterCommit","resetTextContent","getRootHostContext","getChildHostContext","shouldSetTextContent","now","Date","useSyncScheduling","appendChild","appendChildToContainer","document","insertBefore","beforeChild","index","indexOf","splice","removeChild","removeChildFromContainer","commitTextUpdate","textInstance","oldText","newText","commitUpdate","updatePayload","fontStore","FontStore","pdf","initialValue","container","lang","PDFRenderer","mountNode","createContainer","updateContainer","doc","getLang","render","ctx","PDFDocument","autoFirstPage","layout","layoutDocument","renderPDF","callOnRender","params","onRender","toBlob","stream","pipe","BlobStream","Promise","resolve","reject","on","blob","error","toBuffer","toString","result","buffer","Font","StyleSheet","create","s","renderToStream","renderToString","renderToFile","filePath","callback","output","fs","createWriteStream","throwEnvironmentError","name","Error","PDFViewer","PDFDownloadLink","BlobProvider","version","primitives"],"mappings":"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"}